{
    "type": "controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "ClientController"
    },
    "id": "ExtBox1-ext-gen6749",
    "designerId": "e4f5c676-6a36-4f1c-9c92-aa1296a7b78b",
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onNewContactClick",
                "fn": "onNewContactClick",
                "designer|params": [
                    "target"
                ],
                "implHandler": [
                    "this.application.fireEvent(\"addContact\",target);"
                ],
                "name": "click",
                "scope": "me",
                "designer|controlQuery": "clientrecord toolbar button[itemId=newcontact]"
            },
            "designerId": "ce2cb34c-86a2-4658-8248-30aaa5db4dcc"
        },
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "init",
                "fn": "init",
                "designer|params": [
                    "application"
                ],
                "implHandler": [
                    "me = this;",
                    "me.contactWindow = null;",
                    "me.application.on({",
                    "    clientRecordChange: me.changeClientRecord,",
                    "    scope: me",
                    "});",
                    "",
                    "me.application.on({",
                    "    addContact: me.addContact,",
                    "    scope:me",
                    "});",
                    ""
                ]
            },
            "designerId": "285ac0ab-7679-491c-975e-f11f309c9d96"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onActionColumnClick",
                "fn": "onActionColumnClick",
                "designer|params": [
                    "grid, col, row"
                ],
                "implHandler": [
                    "this.application.fireEvent('clientRecordChange',grid,col,row);"
                ],
                "name": "click",
                "scope": "me",
                "designer|targetType": null,
                "designer|controlQuery": "clientgrid #actions"
            },
            "designerId": "5598cd62-89f2-4049-8ba7-30179ee41ac2"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "addContact",
                "fn": "addContact",
                "implHandler": [
                    "if(!me.contactWindow){",
                    "    me.contactWindow = new JavisERP.view.ContactWindow();",
                    "}",
                    "    if(me.contactWindow.isVisible()){",
                    "        me.contactWindow.hide();",
                    "    } else {",
                    "        me.contactWindow.show();",
                    "    }"
                ]
            },
            "designerId": "110275da-a518-4b82-832f-01677ab6be32"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "changeClientRecord",
                "fn": "changeClientRecord",
                "designer|params": [
                    "grid",
                    "col",
                    "row",
                    "record"
                ],
                "implHandler": [
                    "this.getContentCards().getLayout().setActiveItem('ClientRecord');",
                    "var form = this.getClientRecord().getForm();",
                    "form.loadRecord(this.getClientGrid().getStore().getAt(row));",
                    "var contacts = this.getContactGrid().getStore().load();"
                ]
            },
            "designerId": "9d3c82ab-4b41-47cc-b83a-71ef624c86a2"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "clientGrid",
                "ref": "clientGrid",
                "selector": "clientgrid"
            },
            "designerId": "1eee1a8c-71e3-45e2-bf07-474b25ee5680"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "contentCards",
                "ref": "contentCards",
                "selector": "contentCards"
            },
            "designerId": "46188af9-81ad-4b13-81fa-acc115d00df2"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "clientRecord",
                "ref": "clientRecord",
                "selector": "clientrecord"
            },
            "designerId": "22a28541-5131-4f17-9cae-2490fd1c34e1"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "contactWindow",
                "ref": "contactWindow",
                "selector": "contactwindow"
            },
            "designerId": "32be57cd-7398-4894-b550-10275acf993e"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "contactGrid",
                "ref": "contactGrid",
                "selector": "contactgrid"
            },
            "designerId": "868ab583-5147-4183-b4ef-f8331f6a862e"
        }
    ]
}